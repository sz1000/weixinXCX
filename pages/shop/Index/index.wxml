<import src="../../../wxParse/wxParse.wxml" />
<view class="swiperBox">
	<view class="swiper-tab">
		<view class="swiper-tab-item {{currentTab==0?'active':''}}" data-current="0" bindtap="clickTab">
			简介
		</view>
		<view class="swiper-tab-item {{currentTab==1?'active':''}}" data-current="1" bindtap="clickTab">
			医师
		</view>
		<view class="swiper-tab-item {{currentTab==2?'active':''}}" data-current="2" bindtap="clickTab">
			案例
		</view>
	</view>
</view>
<swiper current="{{currentTab}}" duration="300" bindchange="swiperTab">
	<swiper-item>
		<scroll-view scroll-y="true" bindscrolltoupper='refreshData' bindscrolltolower='loadMoreData'>
			<swiper
			 autoplay="true"
			 interval="{{2500}}"
			 duration="{{500}}"
			 class="projectImg"
			 style="{{imgArr.length > 0 ? '' :'background:#eeeeee'}}"
			>
				<block wx:for="{{imgArr}}" wx:key="index">
					<swiper-item style="overflow:hidden">
						<image src="{{item}}" mode="aspetFill" />
					</swiper-item>
				</block>

			</swiper>
			<view class="middleBar">
				<span class="rectangle" />
				<h2>商家简介</h2>
			</view>
			<view class="productContent">
				<template is="wxParse" data="{{wxParseData:PROJECT.nodes}}" />
			</view>
		</scroll-view>
	</swiper-item>
	<swiper-item>
		<scroll-view scroll-y="true" bindscrolltoupper='refreshData' bindscrolltolower='loadMoreData'>
			<view class="doctorBox">
				<view
				 class="itemView"
				 bindtap="gotoDoctorDetail"
				 wx:for="{{doctorList}}"
				 wx:for-item="item"
				 wx:key="item.id"
				 data-doctor="{{item}}"
				>
					<image src="{{item.avatar}}" class="doctorImg" mode="aspectFill" />
					<view class="doctorNames">
						{{item.name}}
						<span>{{item.title}}</span>
					</view>
					<view class="hospitalNames">{{item.hospital}}</view>
					<view class="yynum">
						<span class="order">{{item.reserve_num}}预约</span>
						<span>{{item.case_num}}案例</span>
					</view>
					<view class="menu">
						<view
						 class="item"
						 wx:for="{{[0,1]}}"
						 wx:key="tagItem"
						 wx:for-item="tagIndex"
						 wx:if="{{item.tags.length > tagIndex ? true : false}}"
						>
							{{item.tags[tagIndex]}}
						</view>
						<view class="item" wx:if="{{item.tag[2]}}">...</view>
					</view>
				</view>
			</view>
			<view class="noDataBox" wx:if="{{doctorList.length == 0}}">{{noDataContent}}</view>
			<i-load-more wx:if="{{loadMoreTip}}" />
			<i-load-more wx:if="{{lastLoad}}" tip="已经到底了" loading="{{ false }}" />
		</scroll-view>
	</swiper-item>
	<swiper-item>
		<scroll-view scroll-y="true" bindscrolltoupper='refreshData' bindscrolltolower='loadMoreData'>
			<view wx:for="{{demoList}}" wx:key="{{demoList.id}}">
				<global-article-card item="{{demoList[index]}}" add="{{false}}" />
			</view>
			<!-- <view class="demoBox" wx:for="{{demoList}}" wx:for-item="item" wx:key="item.id">
        <view class="demoTitle titleBold ellipsisTwo">{{item.title}}</view>
        <view class="imgView" bindtap="gotoDemoDetail" data-demo="{{item}}">
          <image class="demoImg" wx:for="{{[0,1]}}" wx:key="imgItem" wx:for-item="imgIndex" mode="aspectFill" src="{{item.imgArray[imgIndex]}}" style="opacity:{{item.imgArray.length > imgIndex ? 100 : 0}};"></image>
        </view>
        <view class="personInfo">
          <image src="{{item.authorAvatarUrl}}" class="headImg" />
          {{item.authorName}}
        </view>
        <view class="bindProject" wx:if="{{item.productInfo != null}}" data-product="{{item.productInfo.id}}" bind:tap="goProductDetail">
          <view class="rightBlock">
            <span class="buyIcon">购</span>
            <view class="projectName ellipsisOne">{{item.productInfo.name}}</view>
            <view class="orderNum">
              预约数:
              <text>{{item.productInfo.count}}</text>
            </view>
          </view>
          <view class="bindPrice">
            <span>￥</span>
            {{item.productInfo.price/100}}
          </view>
        </view>
        <view wx:if="{{item.doctorInfo != null}}">
          <view class="personInfoBox" style="margin-left:30rpx;">
            <image mode="widthFill" src="{{item.doctorInfo.avatar}}" />
            主治医生:{{item.doctorInfo.name}}
          </view>
        </view>
      </view> -->
			<view class="noDataBox" wx:if="{{demoList.length == 0}}">{{noDataContent}}</view>
			<view style="margin-bottom:88rpx">
				<i-load-more wx:if="{{loadMoreTip}}" />
				<i-load-more wx:if="{{lastLoad}}" tip="已经到底了" loading="{{ false }}" />
			</view>
		</scroll-view>
	</swiper-item>
</swiper>

